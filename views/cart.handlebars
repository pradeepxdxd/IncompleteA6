{{> menu-nav}}

<div class="container">
    <div class="mt-3">
        <h2>Shopping Cart</h2>
        {{#if flag}}
        <hr>
        <h4 class="text-center">Add Food From Menu List &#128512</h4>
        {{else}}
        {{#each data}}
        <hr>
        <input type="hidden" id="fprice" value={{foodPrice}}>
        <div class="row">
            <div class="col">
                <img src="/pizzaImg/{{foodImg}}" alt="err" width="57px" height="50px">
            </div>
            <div class="col">
                <h5>{{foodName}}</h5>
            </div>
            <div class="col">
                <h5>${{foodPrice}}</h5>
            </div>
            <div class="col">
                <input type="number" id="quantity" name="quantity" min="1" max="20" value="1" style="width: 90%;">
            </div>
            <div class="col">
                <a href="/menu/delete-cart/{{_id}}" class="btn btn-dark"> Delete</a>
            </div>
            {{!-- <div class="col">
                <button onclick="totalPrice()" class="btn btn-success">Total</button>
            </div> --}}
        </div>
        <hr>
        {{/each}}
        <div class="mt-2">
            <div class="row text-center">
                <div class="col">
                    <button onclick="totalPrice()" class="btn btn-success">Total</button>
                </div>
                <div class="col">
                    <h4 id="totalPrice"></h4>
                </div>
                <div class="col">
                    <a href="/menu/checkout" class="btn btn-dark">Checkout</a>
                </div>
            </div>
        </div>
    </div>
    {{/if}}
</div>
</div>

<script>
    const total = []
    function totalPrice() {
        let fprice = document.getElementById('fprice').target.value;
        let val = document.getElementById('quantity').target.value;
        
        console.log(fprice + " " + val);

        {{!-- document.getElementById('totalPrice').innerHTML = '$' + total; --}}
        {{!-- localStorage.setItem('totalPrice', fprice * val); --}}
        return false;
    }
    
</script>